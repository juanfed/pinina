(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[379],{55179:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/petsAndClients",function(){return t(31409)}])},78568:function(e,n){"use strict";n.Z={src:"/_next/static/media/circulos.2c1beb40.svg",height:52,width:28}},4807:function(e,n){"use strict";n.Z={src:"/_next/static/media/comentario.44c8ab45.svg",height:57,width:57}},58609:function(e,n){"use strict";n.Z={src:"/_next/static/media/like.1a216583.svg",height:57,width:57}},61205:function(e,n){"use strict";n.Z={src:"/_next/static/media/share.900ee1dc.svg",height:57,width:57}},66287:function(e,n,t){"use strict";t.d(n,{Z:function(){return m}});var i=t(85893),s=(t(67294),t(41749)),r=t(52629),c=t(31388),a=t(94177),o=t(27398),l=t(30132),u=t(12547),d=t(48030),m=(t(78568),t(58609),t(4807),t(61205),function(){return(0,i.jsxs)(s.Z,{item:!0,xs:12,md:12,children:[(0,i.jsx)(s.Z,{item:!0,className:"caja c2",xs:12,md:12,children:(0,i.jsx)("img",{src:r.Z,alt:"barra"})}),(0,i.jsxs)(s.Z,{container:!0,spacing:1,xs:12,md:12,style:{marginTop:"-6.5rem"},children:[(0,i.jsxs)(s.Z,{container:!0,xs:2,md:2,children:[(0,i.jsx)(s.Z,{className:"historiaSubida",item:!0,xs:12,md:12,children:(0,i.jsx)("img",{src:c.Z,alt:"historia1"})}),(0,i.jsx)(s.Z,{className:"etiquetas",item:!0,xs:12,md:12,children:"#Etiqueta"})]}),(0,i.jsxs)(s.Z,{container:!0,xs:2,md:2,children:[(0,i.jsx)(s.Z,{className:"historiaSubida",item:!0,xs:12,md:12,children:(0,i.jsx)("img",{src:a.Z,alt:"historia2"})}),(0,i.jsx)(s.Z,{className:"etiquetas",item:!0,xs:12,md:12,children:"#Etiqueta"})]}),(0,i.jsxs)(s.Z,{container:!0,xs:2,md:2,children:[(0,i.jsx)(s.Z,{className:"historiaSubida",item:!0,xs:12,md:12,children:(0,i.jsx)("img",{src:o.Z,alt:"historia3"})}),(0,i.jsx)(s.Z,{className:"etiquetas",item:!0,xs:12,md:12,children:"#Etiqueta"})]}),(0,i.jsxs)(s.Z,{container:!0,xs:2,md:2,children:[(0,i.jsx)(s.Z,{className:"historiaSubida",item:!0,xs:12,md:12,children:(0,i.jsx)("img",{src:l.Z,alt:"historia4"})}),(0,i.jsx)(s.Z,{className:"etiquetas",item:!0,xs:12,md:12,children:"#Etiqueta"})]}),(0,i.jsxs)(s.Z,{container:!0,xs:2,md:2,children:[(0,i.jsx)(s.Z,{className:"historiaSubida",item:!0,xs:12,md:12,children:(0,i.jsx)("img",{src:u.Z,alt:"historia5"})}),(0,i.jsx)(s.Z,{className:"etiquetas",item:!0,xs:12,md:12,children:"#Etiqueta"})]}),(0,i.jsxs)(s.Z,{container:!0,xs:2,md:2,children:[(0,i.jsx)(s.Z,{className:"historiaSubida",item:!0,xs:12,md:12,children:(0,i.jsx)("img",{src:d.Z,alt:"historia6"})}),(0,i.jsx)(s.Z,{className:"etiquetas",item:!0,xs:12,md:12,children:"#Etiqueta"})]})]})]})})},31409:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return G}});var i=t(85893),s=t(67294),r=(t(27474),t(24376),t(38539),t(25575),t(86886)),c=(t(75318),t(28661)),a=(t(73972),t(27755)),o=(t(41433),t(24901)),l=t(92145),u=t(40371),d=t(34051),m=t.n(d),x=t(41749),h=t(66287),f=t(76528),j=t(12547),p=t(78568),g=t(58609),Z=t(4807),b=t(61205),v=t(30381),_=t.n(v),N=t(87357),y=t(10012),w=t(83321),k=t(66242),S=t(77314),C=t(42850),P=t(2734),E=t(13973),q=t(26602),O=t(744),B=t(39069),z=t(16628),D=t(15861),F=t(78462),M=t(70891),I=t(59334),A=t(41733);function L(e,n,t,i,s,r,c){try{var a=e[r](c),o=a.value}catch(l){return void t(l)}a.done?n(o):Promise.resolve(o).then(i,s)}function T(e){return function(){var n=this,t=arguments;return new Promise((function(i,s){var r=e.apply(n,t);function c(e){L(r,i,s,c,a,"next",e)}function a(e){L(r,i,s,c,a,"throw",e)}c(void 0)}))}}function W(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Y=function(e){var n,t=e.dato,r=(0,C.bH)(S.ZP),c=(0,P.Z)(),a=(0,s.useState)(0),o=a[0],l=a[1],u=(0,s.useState)(t.likes_publicacion),d=u[0],h=u[1],v=(0,s.useState)(!0),L=v[0],Y=v[1],X=(0,s.useState)(t.siguiendo),H=X[0],R=X[1],G=(0,s.useState)(!1),J=G[0],K=G[1],Q=(0,s.useState)({comentario:""}),U=Q[0],V=Q[1],$=t.fotos.length;n=$>1;var ee=function(){var e=T(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.Z.get("/darlike/".concat(t.id_publicacion,"/8"));case 2:e.sent,L?(h(d+1),Y(!1)):(h(d-1),Y(!0));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=T(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.Z.post("/seguircuentausuario/8/".concat(t.id_clientes));case 2:e.sent,R(!H);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:480,height:450,overflow:"auto",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,zIndex:100},ie=function(e){V(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),i.forEach((function(n){W(e,n,t[n])}))}return e}({},U,W({},e.target.name,e.target.value)))},se=function(){var e=T(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.Z.post("/crearcomentarios",{id_publicacion:t.id_publicacion,comentario:U.comentario,id_clientes:8});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(e){e.preventDefault(),e.target.reset()},ce=function(){var e=T(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.Z.delete("/eliminarcomentario",{comentario_id:t.comentarios.comentario_id,id_publicacion:t.comentarios.id_publicacion});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log(t.comentarios),(0,i.jsxs)(k.Z,{className:"contenedorFeed",sx:{maxWidth:445},style:{paddingBottom:".5rem"},children:[(0,i.jsxs)("div",{className:"header--card",children:[t.foto_perfil_mascota.length?(0,i.jsx)("figure",{figure:!0,className:"figura--iconoPerfil",children:(0,i.jsx)("img",{src:"http://localhost:4001/".concat(t.foto_perfil_mascota[0].nombre_imagen),alt:t.foto_perfil_mascota[0].nombre_imagen})}):(0,i.jsx)("figure",{className:"figura--iconoPerfilDefault",children:(0,i.jsx)("img",{src:j.Z,alt:"default"})}),(0,i.jsxs)(x.Z,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"flex-start",style:{cursor:"pointer"},children:[(0,i.jsx)("p",{className:"tituloFeed1",children:t.nombre_mascota}),H?(0,i.jsxs)("p",{onClick:ne,className:"follow",children:["Siguiendo  ",(0,i.jsx)(O.Z,{fontSize:"small"})," "]}):(0,i.jsxs)("p",{onClick:ne,className:"follow",children:["Seguir  ",(0,i.jsx)(B.Z,{fontSize:"small"})]}),t.nivel_mascota?(0,i.jsxs)("p",{tituloFeed3:!0,children:["Nivel: ",t.nivel_mascota]}):(0,i.jsx)("p",{tituloFeed3:!0,children:"Nivel: 0"})]}),(0,i.jsx)("div",{children:(0,i.jsx)("figure",{className:"figura--puntos",children:(0,i.jsx)("img",{src:p.Z,alt:"puntos"})})})]}),(0,i.jsxs)(x.Z,{container:!0,xs:12,md:12,style:{boder:"2px solid red"},children:[(0,i.jsxs)("div",{className:"imagen--cards",children:[(0,i.jsx)(r,{axis:"rtl"===c.direction?"x-reverse":"x",index:o,enableMouseEvents:!0,style:{overflow:"hidden"},children:t.fotos.map((function(e,n){return(0,i.jsx)("div",{className:"imagen--card--imagen",children:Math.abs(o-n)<=2?(0,i.jsx)(N.Z,{component:"img",sx:W({height:255,display:"block",width:400,overflow:"hidden"},"width","100%"),src:"http://localhost:4001/".concat(e.nombre_imagen),alt:e.nombre_imagen}):null},n)}))}),n?(0,i.jsx)(y.Z,{steps:$,position:"static",activeStep:o,style:{backgroundColor:"transparent"},nextButton:(0,i.jsxs)(w.Z,{size:"small",onClick:function(){l((function(e){return e+1}))},disabled:o===$-1,children:["Next","rtl"===c.direction?(0,i.jsx)(E.Z,{}):(0,i.jsx)(q.Z,{})]}),backButton:(0,i.jsxs)(w.Z,{size:"small",onClick:function(){l((function(e){return e-1}))},disabled:0===o,children:["rtl"===c.direction?(0,i.jsx)(q.Z,{}):(0,i.jsx)(E.Z,{}),"Back"]})}):null]}),(0,i.jsxs)(x.Z,{container:!0,xs:12,md:12,style:{margin:"0rem .5rem"},children:[(0,i.jsx)(x.Z,{item:!0,xs:1,md:1,style:{cursor:"pointer"},children:(0,i.jsx)("img",{src:g.Z,alt:"Like",onClick:ee})}),(0,i.jsx)(x.Z,{className:"cantidadLikes",item:!0,xs:3,md:3,style:{margin:"0.8rem"},children:d}),(0,i.jsx)(x.Z,{item:!0,xs:5,md:5}),(0,i.jsx)(x.Z,{item:!0,xs:1,md:1,style:{margin:"5px"},children:(0,i.jsx)("img",{src:Z.Z,alt:"Like",onClick:function(){K(!0)},className:"boton--comentario"})}),(0,i.jsx)(x.Z,{item:!0,xs:1,md:1,children:(0,i.jsx)("img",{src:b.Z,alt:"Like"})}),(0,i.jsx)(x.Z,{className:"descripcion",item:!0,xs:12,md:12,children:t.descripcion_publicacion}),(0,i.jsx)(x.Z,{className:"descripcionHora",item:!0,xs:12,md:12,style:{marginTop:"10px"},children:"Fecha: ".concat(_().utc(t.fecha_publicacion).format("MM/DD/YYYY"))}),(0,i.jsx)(x.Z,{xs:12,md:12,children:J?(0,i.jsx)("div",{children:(0,i.jsx)(z.Z,{in:J,style:{backgroundColor:"#e4e4e4",borderRadius:"5%",borderColor:"#f48c06"},children:t.comentarios.length?(0,i.jsx)(N.Z,{sx:te,style:!0,children:(0,i.jsxs)("div",{children:[t.comentarios.map((function(e){return(0,i.jsx)(F.Z,{sx:{width:"100%",maxWidth:360,bgcolor:"#e4e4e4"},children:(0,i.jsx)(M.ZP,{alignItems:"flex-start",children:(0,i.jsx)(I.Z,{secondary:(0,i.jsxs)(s.Fragment,{children:[(0,i.jsx)(D.Z,{sx:{display:"inline"},component:"span",variant:"body2",color:"text.primary",style:{fontSize:"14px",color:"#f48c06",fontWeight:"800",maxWidth:"480px"},children:8==e.id_clientes?(0,i.jsxs)("p",{className:"deleteComment",children:[" ",(0,i.jsx)("div",{onClick:ce,children:(0,i.jsx)(A.Z,{})})," ",e.primer_nombre," ",e.primer_apelido," :"]}):(0,i.jsxs)("p",{children:[e.primer_nombre," ",e.primer_apelido]})}),(0,i.jsx)("p",{className:"comentario",children:e.comentario}),(0,i.jsx)("br",{})]})})})})})),(0,i.jsxs)("div",{children:[(0,i.jsxs)("form",{onSubmit:re,children:[(0,i.jsx)("textarea",{type:"text",id:"comentario",name:"comentario",placeholder:"Comenta",onChange:ie,className:"comment"}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)("button",{onClick:se,type:"submit",children:"Publicar"})]}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)("button",{onClick:function(){K(!1)},children:"Cerrar"})]})]})}):(0,i.jsx)(N.Z,{sx:te,children:(0,i.jsxs)(D.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:[(0,i.jsx)("p",{children:"No hay comentarios, se el primero en comentar"}),(0,i.jsx)("br",{}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("form",{onSubmit:re,children:[(0,i.jsx)("textarea",{type:"text",id:"comentario",name:"comentario",placeholder:"A\xf1ade un comentario",onChange:ie,className:"comment"}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)("button",{onClick:se,type:"submit",children:"Publicar"})]}),(0,i.jsx)("br",{}),(0,i.jsx)("button",{onClick:function(){K(!1)},children:"Cerrar"})]})]})})})}):null})]})]})]},t.id_publicacion)};function X(e,n,t,i,s,r,c){try{var a=e[r](c),o=a.value}catch(l){return void t(l)}a.done?n(o):Promise.resolve(o).then(i,s)}var H=function(){var e=(0,s.useState)([]),n=e[0],t=e[1];return(0,s.useEffect)((function(){var e=function(){var e,n=(e=m().mark((function e(){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.Z.get("/mostrarpublicaciones/8");case 2:n=e.sent,t(n.data.publicaciones);case 4:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(i,s){var r=e.apply(n,t);function c(e){X(r,i,s,c,a,"next",e)}function a(e){X(r,i,s,c,a,"throw",e)}c(void 0)}))});return function(){return n.apply(this,arguments)}}();e()}),[]),(0,i.jsxs)(x.Z,{item:!0,xs:8,md:8,children:[(0,i.jsx)(h.Z,{}),(0,i.jsx)(x.Z,{className:"caja c3",container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},style:{marginBottom:"4rem"},children:n.length&&n.map((function(e){return(0,i.jsx)(Y,{dato:e})}))})]})},R=t(79698);function G(){var e=(0,l.v9)((function(e){return e.admin})),n=e.usersBusiness,t=e.userAdmin,d=(e.modules,e.userModules),m=(0,l.v9)((function(e){return e.auth})).user,x=(0,l.I0)(),h=(0,s.useState)(!0),f=h[0],j=h[1],p=(0,a.Ds)().enqueueSnackbar;(0,c.Z)();return(0,s.useEffect)((function(){p("Sesi\xf3n Iniciada",{variant:"success"})}),[]),(0,s.useEffect)((function(){x((0,o.vM)({id_usuario:null===m||void 0===m?void 0:m.id})),x((0,o.qt)({id_usuario:null===m||void 0===m?void 0:m.id})),x((0,o.mu)()),x((0,o.Xs)()),x((0,o.OB)())}),[]),(0,s.useEffect)((function(){if(0!==n.length){var e=n.filter((function(e){return e.id_usuario===m.id}));console.log(e),0!==e.length&&(e[0].t_adm?x((0,o.r0)("admin")):x((0,o.r0)("admin_restri")))}}),[n]),(0,s.useEffect)((function(){if(0===t.length&&0!==d.length&&f){var e=d.filter((function(e){return e.id_usuario===m.id}));console.log(e);var n=e.filter((function(e){return!0===e.t_adm}));0!==n.length?(x((0,o.cA)(n)),x((0,o.r0)("module_admin"))):x((0,o.r0)("module_restri")),j(!1)}}),[d,m,t]),console.log(n),(0,i.jsxs)(r.ZP,{container:!0,className:"flex-container",children:[(0,i.jsx)(r.ZP,{container:!0,className:"caja c1",xs:2,md:2,children:(0,i.jsx)(u.Z,{})}),(0,i.jsx)(H,{}),(0,i.jsx)(r.ZP,{container:!0,className:"caja c4",xs:2,md:2,children:(0,i.jsx)(R.Z,{})})]})}}},function(e){e.O(0,[885,915,537,350,605,981,254,774,888,179],(function(){return n=55179,e(e.s=n);var n}));var n=e.O();_N_E=n}]);